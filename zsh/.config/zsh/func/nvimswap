# Description: Dynamic nvim config switcher with fzf
# Usage: nvimswap [nvim-args]

nvimswap() {
    emulate -L zsh
    
    local -a items
    local config
    
    # Available configurations
    items=("default" "custom" "kickstart" "LazyVim" "NvChad" "AstroNvim")
    
    # Show fzf selector with preview
    config=$(printf "%s\n" "${items[@]}" | fzf --prompt=" Neovim Config: " --height=~50% --layout=reverse --border --exit-0)
    
    # Handle selection
    if [[ -z $config ]]; then
        # Nothing selected
        return 0
    elif [[ $config == "default" ]]; then
        config=""
    fi
    
    # Launch nvim with selected config
    NVIM_APPNAME=$config command nvim "$@"
}